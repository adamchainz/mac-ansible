- name: Global OSX settings
  command: defaults write -g {{ item }}
  with_items:
    - AppleShowAllExtensions -bool true
    - com.apple.swipescrolldirection -bool false  # "normal" scrolling
    - AppleKeyboardUIMode -int 3  # tab goes through all controls on dialogs
    - NSNavPanelExpandedStateForSaveMode -boolean true  # save panel expanded
    - com.apple.keyboard.fnState -int 1  # need to hold fn to get at special keys

- name: Dock settings
  command: defaults write com.apple.dock {{ item }}
  with_items:
    - autohide-time-modifier -int 1
    - tilesize -int 48
    - persistent-apps -array ""
    - expose-animation-duration -float 0.1
  notify: kill dock

- name: Dashboard disabled
  command: defaults write com.apple.dashboard mcx-disabled -boolean YES
  notify: kill dock

- name: Finder settings
  command: defaults write com.apple.finder {{ item }}
  with_items:
    - NewWindowTarget -string "PfHm"  # Home folder
    - FXEnableSlowAnimation -boolean false # Disable slow animations on shift
    - QLHidePanelOnDeactivate -boolean true  # quicklook hide on defocus
    - _FXShowPosixPathInTitle -bool YES  # Full path
  notify: kill finder

- name: Terminal theme
  command: open ~/Documents/Projects/mac-ansible/roles/adam_mac/files/Chainz.terminal

- name: Terminal settings
  command: defaults write com.apple.terminal {{ item }}
  with_items:
    - '"Default Window Settings" -string "Chainz"'
    - '"Startup Window Settings" -string "Chainz"'

- command: chflags nohidden ~/Library/
